\documentclass[12pt,upcase]{mitthesis}

\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{microtype}
\usepackage{graphicx}
\graphicspath{{./images/}}
\graphicspath{{./diagrams/}}
\graphicspath{{./irb-docs/}}
\graphicspath{{./code/}}
\usepackage{multirow}
\usepackage{rotating}
\usepackage{natbib}
\bibliographystyle{apa}
\usepackage{url}
\usepackage{booktabs}
\usepackage[final]{pdfpages}
\usepackage{tabularx}
\usepackage{xcolor}
 \colorlet{punct}{red!60!black}
 \definecolor{background}{HTML}{EEEEEE}
 \definecolor{delim}{RGB}{20,105,176}
 \colorlet{numb}{magenta!60!black}

\usepackage{color}
 \definecolor{editorLightGray}{cmyk}{0.05, 0.05, 0.05, 0.1}
 \definecolor{editorGray}{cmyk}{0.6, 0.55, 0.55, 0.2}
 \definecolor{editorPurple}{cmyk}{0.5, 1, 0, 0}
 \definecolor{editorWhite}{cmyk}{0, 0, 0, 0}
 \definecolor{editorBlack}{cmyk}{1, 1, 1, 1}
 \definecolor{editorOrange}{cmyk}{0, 0.8, 1, 0}
 \definecolor{editorBlue}{cmyk}{1, 0.6, 0, 0}
 \definecolor{editorPink}{cmyk}{0, 1, 0, 0}

\usepackage{listings}
% JSON
\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{background},
    literate=
     *{0}{{{\color{numb}0}}}{1}
      {1}{{{\color{numb}1}}}{1}
      {2}{{{\color{numb}2}}}{1}
      {3}{{{\color{numb}3}}}{1}
      {4}{{{\color{numb}4}}}{1}
      {5}{{{\color{numb}5}}}{1}
      {6}{{{\color{numb}6}}}{1}
      {7}{{{\color{numb}7}}}{1}
      {8}{{{\color{numb}8}}}{1}
      {9}{{{\color{numb}9}}}{1}
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}

% JavaScript
\lstdefinelanguage{JavaScript}{
  morekeywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  morecomment=[s]{/*}{*/},
  morecomment=[l]//,
  morestring=[b]",
  morestring=[b]'
}

\lstdefinelanguage{HTML5}{
 language=html,
 sensitive=true,   
 alsoletter={<>=-+},   
 morecomment=[s]{<!-}{-->},
 tag=[s],
 otherkeywords={
  % General
  % >,
  % Standard tags
   <!DOCTYPE,
   </html, <html, <head, <title, </title, <style, </style, <link, </head, <meta, />,
    % body
    </body, <body,
    % Divs
    </div, <div, </div>, 
    % Paragraphs
    </p, <p, </p>,
    % scripts
    </script, <script,
    % More tags...
    <canvas, /canvas>, <svg, <rect, <animateTransform, </rect>, </svg>, <video, <source, <iframe, </iframe>, </video>, <image, </image>
 },
 ndkeywords={=,
    % General
    +=,
    % HTML attributes
    charset=, src=, id=, width=, height=, style=, type=, rel=, href=,
    % SVG attributes
    fill=, attributeName=, begin=, dur=, from=, to=, poster=, controls=, x=, y=, repeatCount=, xlink:href=,
    % CSS properties
    margin:, padding:, background-image:, border:, top:, left:, position:, width:, height:,
    % CSS3 properties
    transform:, -moz-transform:, -webkit-transform:,
    animation:, -webkit-animation:,
    transition:,  transition-duration:, transition-property:, transition-timing-function:,
 },
}

\lstdefinestyle{thesiscode} {%
 % General design
 % backgroundcolor=\color{editorGray},
 basicstyle={\footnotesize\ttfamily},   
 frame=b,
 % line-numbers
 xleftmargin={0.75cm},
 numbers=left,
 stepnumber=1,
 firstnumber=1,
 numberfirstline=true,	
 % Code design
 identifierstyle=\color{black},
 keywordstyle=\color{blue}\bfseries,
 ndkeywordstyle=\color{editorGreen}\bfseries,
 stringstyle=\color{editorOcher}\ttfamily,
 commentstyle=\color{brown}\ttfamily,
 % Code
 language=HTML5,
 alsolanguage=JavaScript,
 alsolanguage=json,
 alsodigit={.:;},	
 tabsize=2,
 showtabs=false,
 showspaces=false,
 showstringspaces=false,
 extendedchars=true,
 breaklines=true,
}


\usepackage[]{pdfpages}

% use fancyhdr, to enable page style stuff (below)
\usepackage{fancyhdr}
\setlength{\headheight}{15.2pt}
\renewcommand{\headrulewidth}{0pt}

\pagestyle{plain}

\begin{document}
\include{cover}
\include{acknowledgements}
\include{contents}
%\include{preface} 	% Preface is not part of the standard. I invented it for myself. Use it if you want by uncommenting.

	% Redefine the "plain" pagestyle to have pagenum in the header, right
	\fancypagestyle{plain}{
		\fancyhf{}
		\fancyhead[R]{\thepage}
	}

	\setcounter{page}{1}
	\pagenumbering{arabic}
	\pagestyle{plain}
	
\include{chapter1}
\include{chapter2}
\include{chapter3}
\include{chapter4}
\include{chapter5}
\include{chapter6}
\include{bibliography}
\appendix
%\include{appendix-stub} 	%I used an appendix stub file before I wrote the real appendix so the main file would build correctly.
\include{appendix1}


\end{document}
